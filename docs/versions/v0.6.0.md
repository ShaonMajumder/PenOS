# PenOS v0.6.0

Summary
- Scheduler now tracks task lifecycles, reaps zombie threads (freeing their stacks), and surfaces ps/spawn/kill commands via the shell so users can manage demo workers.

Architecture changes
- Added task-state bookkeeping (`TASK_ZOMBIE`), slot reuse, and a cleanup path in the timer ISR that destroys finished threads before resuming the next runnable task.
- Shell gained lifecycle commands powered by new scheduler APIs (`sched_spawn_named`, `sched_kill`, `sched_for_each`).

Files touched
- `include/sched/sched.h`
- `src/sched/sched.c`
- `src/shell/shell.c`
- `README.md`, `docs/architecture.md`
- `docs/commits/feature-scheduler/2_task_lifecycle.md`
- `CHANGELOG.md`, `VERSION`, `docs/versions/v0.6.0.md`

Lessons learned
- Keeping scheduler state explicit (per-slot metadata) makes resource reclamation and shell tooling straightforward.
- User-visible commands encourage better lifecycle hygiene; every zombie needs to be reclaimed promptly.

Next steps
- Extend shell diagnostics (e.g., expose heap stats via `meminfo`).
- Tie task management into future user-mode/syscall work so ring-3 processes can be spawned/killed with the same tooling.
